"use strict";(self.webpackChunkdatasheet=self.webpackChunkdatasheet||[]).push([[945],{2146:(e,t,a)=>{a.d(t,{A:()=>i});var o=a(64),s=a.n(o);const i=e=>{let{title:t,text:a,btnLabel:o,iconType:i}=e;return s().fire({title:t,text:a,icon:i,confirmButtonText:o})}},7700:(e,t,a)=>{a.d(t,{Cm:()=>i,ND:()=>o,ti:()=>s});const o=(0,a(6223).UU)("https://zcvtgtaimnsrlemslypr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpjdnRndGFpbW5zcmxlbXNseXByIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODY5NjMxNzYsImV4cCI6MjAwMjUzOTE3Nn0.xKr-K8J-6r-WnSj_75NhltNLkgUHQmd46hank5yLM2A"),s={apiKey:"Ca901934d5684bce9b0dad758832a257",apiUrl:"https://testsushen.openai.azure.com/openai/deployments/davinci_test/completions/?api-version=2023-05-15",promptText:'"Based on the attached trading data in json format, which includes stock symbols, buy price, buy date, quantity, sell price, sell date, brokerage fees, days held, reasons for buying, and GTT (Good Till Triggered) status:'},i="positions_development"},4945:(e,t,a)=>{a.r(t),a.d(t,{default:()=>$});var o=a(3536),s=a.n(o),i=a(743),n=a(5043),r=a(7700);var l=a(6134),d=a(6790),c=a(335),u=a(1906),b=a(579);const p=e=>{let{type:t,label:a,size:o="lg",disable:s=!1,onClick:i,htmlType:n=null,className:r,icon:l,width:d,style:c,variant:p,hoverType:h}=e;const{pixels:m,unit:y}=d||{pixels:null,unit:null},g={width:d&&"object"===typeof d?"".concat(m).concat(y):"".concat(d,"px"),...c};return(0,b.jsx)(u.A,{type:n,id:a,startIcon:l,className:"".concat(r," button-box-shadow ledger-button button-").concat(o||"default"," ").concat("".concat(t,s?"-disabled":"-enabled")).concat(h?" "+h:""),onClick:e=>{e.preventDefault(),!s&&i&&i(e)},style:{...g},variant:p,children:a&&a})},h=e=>{let{table:t,getInsights:a,disabled:o}=e;return(0,b.jsxs)("div",{className:"ledger-header-container",children:[(0,b.jsx)(p,{label:(0,i.p9)("getInsightsLabel"),type:"outlined",variant:"contained",className:"ledger-buttons get-insights",onClick:()=>!o&&a(),hoverType:"success-color",size:"md",disable:o,icon:(0,b.jsx)(l.A,{})}),(0,b.jsx)(p,{type:"outlined",variant:"contained",className:"ledger-buttons create-row",onClick:()=>{t.setCreatingRow(!0)},label:(0,i.p9)("insertNewRowLabel"),size:"md",icon:(0,b.jsx)(c.A,{})}),(0,b.jsx)(p,{label:(0,i.p9)("downloadCSVLabel"),type:"outlined",variant:"contained",className:"ledger-buttons download-csv",onClick:()=>console.log("download-csv"),hoverType:"primary-color",size:"md",icon:(0,b.jsx)(d.A,{}),style:{marginLeft:"auto"}})]})};var m=a(9217);const y=.0011883617999999998,g=e=>{const{quantity:t,sellPrice:a,buyPrice:o}=e;return(a*t-o*t).toFixed(2)},v=e=>{const{buyPrice:t,quantity:a}=e;return(t*a).toFixed(2)},x=e=>g(e)/v(e)*100,f=e=>{const{buyPrice:t,quantity:a,sellPrice:o}=e;return t*a*y+o*a*y+15.93},k=e=>{const{buyDate:t,sellDate:a}=e,o=new Date(t),s=new Date(a),i=Math.abs(s-o);return Math.ceil(i/864e5)};var T=a(3003);const w="Stock name is Required",S="Buying price is Required",C="Buy date is Required",D="Quantity is Require",E="Sell price is Require",L="Sell date is Required",j="Reason to buy is Required",P="GTT enabled is Required",N="Sell date cannot be less than buy date.",A=e=>!!e.length,F=e=>{let{buy_date:t,sell_date:a}=e;return!(new Date(t)>new Date(a))};var I=a(2669);var R=a(245),_=a(64),B=a.n(_),q=a(6446),M=a(7739),K=a(7392),U=a(3159),z=a(3471);const O=e=>{let{table:t,row:a,openModal:o}=e;return(0,b.jsxs)(q.A,{sx:{display:"flex",gap:"1rem"},children:[(0,b.jsx)(M.A,{title:"Edit",children:(0,b.jsx)(K.A,{onClick:()=>t.setEditingRow(a),color:"success",children:(0,b.jsx)(U.A,{})})}),(0,b.jsx)(M.A,{title:"Delete",children:(0,b.jsx)(K.A,{color:"error",onClick:()=>o(a),children:(0,b.jsx)(z.A,{})})})]})},J=e=>{let{items:t,onSubmit:a,onDelete:o,onEdit:r,invalidSellDate:l,sellDateFocused:d,tableAction:c}=e;const[u,p]=(0,n.useState)({}),[h,m]=(0,n.useState)([]),[y,g]=(0,n.useState)(!1);(0,n.useEffect)((()=>{l&&p({...u,sellDate:N})}),[l,u]),(0,n.useEffect)((()=>{s().isEmpty(h)&&(g(!0),x(u))}),[h,u]),(0,n.useEffect)((()=>{s().isEmpty(u)||x(u)}),[u]);const v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";p({...e}),"sellDate"===t&&l&&(d(),p({...e,sellDate:void 0}))},x=e=>{const t=((e,t)=>[{accessorKey:"stockSymbol",header:"Stock Symbol",muiEditTextFieldProps:{type:"string",required:!0,error:!(null===e||void 0===e||!e.stockSymbol),helperText:null===e||void 0===e?void 0:e.stockSymbol,onFocus:()=>t({...e,stockSymbol:void 0})}},{accessorKey:"buyPrice",header:"Buy Price",muiEditTextFieldProps:{type:"number",required:!0,inputProps:{min:0},error:!(null===e||void 0===e||!e.buyPrice),helperText:null===e||void 0===e?void 0:e.buyPrice,onFocus:()=>t({...e,buyPrice:void 0})}},{accessorKey:"buyDate",header:"Buy Date",muiEditTextFieldProps:{type:"date",required:!0,error:!(null===e||void 0===e||!e.buyDate),helperText:null===e||void 0===e?void 0:e.buyDate,onFocus:()=>t({...e,buyDate:void 0})}},{accessorKey:"quantity",header:"Quantity",muiEditTextFieldProps:{type:"number",required:!0,inputProps:{min:0},error:!(null===e||void 0===e||!e.quantity),helperText:null===e||void 0===e?void 0:e.quantity,onFocus:()=>t({...e,quantity:void 0})}},{accessorKey:"reasonToBuy",header:"Reason to Buy",muiEditTextFieldProps:{type:"string",required:!0,error:!(null===e||void 0===e||!e.reasonToBuy),helperText:null===e||void 0===e?void 0:e.reasonToBuy,onFocus:()=>t({...e,reasonToBuy:void 0})}},{accessorKey:"sellPrice",header:"Sell Price",muiEditTextFieldProps:{type:"number",required:!0,inputProps:{min:0},error:!(null===e||void 0===e||!e.sellPrice),helperText:null===e||void 0===e?void 0:e.sellPrice,onFocus:()=>t({...e,sellPrice:void 0})}},{accessorKey:"sellDate",header:"Sell Date",muiEditTextFieldProps:{type:"date",required:!0,error:!(null===e||void 0===e||!e.sellDate),helperText:null===e||void 0===e?void 0:e.sellDate,onFocus:()=>t({...e,sellDate:void 0},"sellDate")}},{accessorKey:"gttEnabled",header:"GTT Enabled",editVariant:"select",editSelectOptions:["YES","NO"],muiEditTextFieldProps:{select:!0,error:!(null===e||void 0===e||!e.gttEnabled),helperText:null===e||void 0===e?void 0:e.gttEnabled,onFocus:()=>t({...e,gttEnabled:void 0})}},{accessorKey:"brokerage",header:"Brokerage",muiEditTextFieldProps:{type:"number",disabled:!0}},{accessorKey:"daysHold",header:"Days Hold",muiEditTextFieldProps:{type:"string",disabled:!0}},{accessorKey:"profitLoss",header:"Profit / Loss",muiEditTextFieldProps:{type:"number",disabled:!0}},{accessorKey:"amount",header:"Amount Invested",muiEditTextFieldProps:{type:"number",disabled:!0}},{accessorKey:"annualReturnGenerated",header:"Annual Return Generated",muiEditTextFieldProps:{type:"number",disabled:!0}},{accessorKey:"roce",header:"Roce",muiEditTextFieldProps:{type:"number",disabled:!0}},{accessorKey:"id",header:"ID",enableEditing:!1,size:80}])(e,v);m(t),g(!1)},f=(0,n.useMemo)((()=>h),[h]),k=(e,t)=>{const o={stockSymbol:!A((s=e).stockSymbol)&&w,buyPrice:!A(s.buyPrice)&&S,buyDate:!A(s.buyDate)&&C,quantity:!A(s.quantity)&&D,sellPrice:!A(s.sellPrice)&&E,sellDate:!A(s.sellDate)&&L,reasonToBuy:!A(s.reasonToBuy)&&j,gttEnabled:!A(s.gttEnabled)&&P};var s;Object.values(o).some((e=>e))?p(o):(p({}),a(e,"insert",t))},T=e=>{B().fire({title:(0,i.p9)("areYouSureLabel"),text:(0,i.p9)("cannotRevertLabel"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:(0,i.p9)("deleteLabel")}).then((t=>{if(t.isConfirmed){const{id:t}=e;o(t)}}))},F=(0,R.Up)({columns:f,data:t,enableColumnOrdering:!0,createDisplayMode:"row",editDisplayMode:"row",enableEditing:!0,initialState:{density:"compact",columnPinning:{left:["stockSymbol"]}},getRowId:e=>e.id,muiTableContainerProps:{sx:{border:"1px solid rgba(81, 81, 81, .5)"}},muiTableHeadCellProps:{sx:{color:"white",backgroundColor:"#403d3d",minWidth:"50px",alignContent:"center"}},muiColumnActionsButtonProps:{sx:{color:"white",borderRight:"2px solid white",borderRadius:"0"}},muiTableBodyCellProps:{sx:{border:"3",backgroundColor:"#d0d5db",color:"#000000"}},muiTopToolbarProps:{sx:{backgroundColor:"#000000",color:"#fff","& .MuiIconButton-root":{color:"white"}}},muiBottomToolbarProps:{className:"custom-footer",sx:{backgroundColor:"#000000",color:"#fff","& .MuiIconButton-root,.MuiBox-root label, .MuiBox-root div,.MuiSvgIcon-root":{color:"white"}}},onActionCellChange:()=>console.log("1"),onCreatingRowCancel:()=>p({}),onCreatingRowSave:e=>{let{values:t,table:a}=e;return k(t,a)},onEditingRowCancel:()=>p({}),onEditingRowSave:e=>{let{values:t,table:a}=e;return r(t,"update",a)},renderRowActions:e=>{let{row:t,table:a}=e;return(0,b.jsx)(O,{table:a,row:t,openModal:T})},renderTopToolbarCustomActions:e=>{let{table:t}=e;return c(t)}});return y?(0,b.jsx)("div",{children:"Loading..."}):(0,b.jsx)("div",{className:"ledger-product-listing-container",children:(0,b.jsx)(R.zp,{table:F})})};var G=a(2146);const H=e=>{let{tableAction:t,getUserData:a}=e;const o=(0,I.Gh)(m.k0),[l,d]=(0,n.useState)([]),{userUUID:c}=(0,T.d4)((e=>e.public)),[u,p]=(0,n.useState)(!1),[h,y]=(0,n.useState)("");(0,n.useEffect)((()=>{(c||o)&&y(c||o)}),[c,o]),(0,n.useEffect)((()=>{h&&w(h,a)}),[h,a]);const w=async(e,t)=>{(async e=>await r.ND.from(r.Cm).select().eq("user_id",e).order("buy_date",{ascending:!0}))(e).then((e=>{let{data:a,error:o}=e;if(o)return void console.log(o);t(JSON.stringify(a));const s=(e=>e.map((e=>({id:e.id,stockSymbol:e.stock_name,buyPrice:e.buy_price,buyDate:e.buy_date,quantity:e.quantity,sellPrice:e.sell_price,sellDate:e.sell_date,brokerage:e.brokerage,daysHold:e.days_hold,reasonToBuy:e.reason_to_buy,gttEnabled:e.gtt_enabled,profitLoss:e.profit_loss,amount:e.Amount,annualReturnGenerated:e.annual_return_generated,roce:e.roce}))))(a);d(s)}))},S=(e,t,a)=>{const{id:i}=e,n=((e,t)=>[{stock_name:e.stockSymbol,buy_price:parseFloat(e.buyPrice),buy_date:e.buyDate,quantity:parseFloat(e.quantity),sell_price:parseFloat(e.sellPrice),sell_date:e.sellDate,brokerage:parseFloat(f(e)).toFixed(2),days_hold:k(e),reason_to_buy:e.reasonToBuy,gtt_enabled:e.gttEnabled,profit_loss:g(e),roce:parseFloat(x(e)).toFixed(2),annual_return_generated:parseFloat(e.annualReturnGenerated),Amount:v(e),user_id:t}])(e,o);s().isEmpty(n)||("insert"===t&&C(n,a),"update"===t&&D(i,n,a))},C=async(e,t)=>{F(e[0])?(async e=>await r.ND.from(r.Cm).insert(e))(e).then((e=>{t.setCreatingRow(null),w(h,a),(0,G.A)({title:(0,i.p9)("successLabel"),text:(0,i.p9)("saveDataContent"),iconType:"success",btnLabel:(0,i.p9)("okLabel")})})).catch((e=>console.error)):p(!0)},D=(e,t,o)=>{F(t[0])?(async(e,t)=>await r.ND.from(r.Cm).update(t).match({id:e}))(e,t).then((e=>{w(h,a),o.setEditingRow(null),(0,G.A)({title:(0,i.p9)("successLabel"),text:(0,i.p9)("saveDataContent"),iconType:"success",btnLabel:(0,i.p9)("okLabel")})})).catch((e=>{console.error("Error updating data:",e)})):p(!0)};return(0,b.jsx)("div",{className:"ledger-products-container",children:(0,b.jsx)(J,{items:l,onSubmit:S,onDelete:async e=>{try{await(async e=>await r.ND.from(r.Cm).delete().match({id:e}))(e),d((t=>t.filter((t=>t.id!==e)))),(0,G.A)({title:(0,i.p9)("successLabel"),text:(0,i.p9)("deleteDateContent"),iconType:"success",btnLabel:(0,i.p9)("okLabel")})}catch(t){console.error("Error deleting data:",t)}},onEdit:S,invalidSellDate:u,sellDateFocused:()=>p(!1),tableAction:t})})},W=e=>{let{textList:t}=e;return(0,b.jsxs)("div",{className:"insights-list-container",children:[(0,b.jsx)("div",{className:"title",children:"AI Generated Insights"}),(0,b.jsx)("ul",{children:t.map(((e,t)=>e.length?(0,b.jsx)("li",{children:e},t):null))})]})},Y=e=>{let{children:t,className:a}=e;return(0,b.jsx)("div",{className:"content-wrapper".concat(a?" "+a:""),children:t})};var V=a(3368);const X=e=>{let{open:t,handleClose:a,children:o,title:s}=e;return(0,b.jsx)(V.A,{open:t,onClose:a,children:(0,b.jsxs)("div",{className:"ledger-modal-body",children:[(0,b.jsx)("div",{className:"modal-title",children:s}),o]})})};var Q=a(6955);let Z=null;const $=()=>{const e=(0,T.wA)(),[t,a]=(0,n.useState)(!1),[o,l]=(0,n.useState)(null),[d,c]=(0,n.useState)(""),[u,p]=(0,n.useState)([]),[m,y]=(0,n.useState)(!0);(0,n.useEffect)((()=>()=>{clearTimeout(Z)}),[]),(0,n.useEffect)((()=>{s().isEmpty(d)||(y(!1),e((0,Q.Es)(d)),localStorage.setItem("ledgerData",JSON.stringify(d)))}),[d,e]);const g=e=>{v(),(async e=>{const t={prompt:"With json data ".concat(e,", ").concat(r.ti.promptText),max_tokens:Math.min(e.length,1e3)},a=await fetch(r.ti.apiUrl,{method:"POST",headers:{"Content-Type":"application/json","api-key":r.ti.apiKey,"Cache-Control":"no-cache"},body:JSON.stringify(t)});return(await a.json()).choices[0].text.split("\n").map((e=>e.trim()))})(e).then((e=>{p(e)})).catch(console.error)},v=()=>{a((e=>!e))};return(0,b.jsx)(q.A,{sx:{width:"100%",p:2,border:"1px solid grey",maxWidth:"auto",margin:"auto",overflowX:"auto",overflowY:"false"},children:(0,b.jsxs)(Y,{className:"ledgers-container",children:[(0,b.jsx)(h,{table:o,getInsights:()=>g(d),disabled:m}),(0,b.jsx)(H,{tableAction:e=>{Z=setTimeout((()=>{l(e)}),100)},getUserData:c}),(()=>{if(!t)return null;const e={open:t,handleClose:v,title:(0,i.p9)("insightAILabel")};return(0,b.jsx)(X,{...e,children:u.length?(0,b.jsx)(W,{textList:u}):(0,b.jsx)("div",{className:"center-align",children:"Loading..."})})})()]})})}},743:(e,t,a)=>{a.d(t,{p9:()=>d,b0:()=>l});var o=a(2669);const s={brandName:"TradingJournal.ai",welcomeLabel:"Welcome:",signOutLabel:"Sign out",downloadCSVLabel:"Download CSV",saveChangesLabel:"Save Changes",getInsightsLabel:"Get Insights with AI",insertNewRowLabel:"INSERT NEW ROW",successLabel:"Success!",deleteDateContent:"Data deleted successfully!",okLabel:"OK",saveDataContent:"Data saved successfully!",areYouSureLabel:"Are you sure?",cannotRevertLabel:"You won't be able to revert this!",deleteLabel:"Yes, delete it!",homeLabel:"Home",riskManagementLabel:"Risk Management",watchListLabel:"Watchlist",analyticsLabel:"Analytics",blogsLabel:"Blogs",homeNavLinkLabel:"Home",aboutUsNavLinkLabel:"About Us",servicesNavLinkLabel:"Services",aboutUsFirstContent:"Harneet Singh Kharbanda is a Full Time Trader with over 10 years of experience in the stock market. With a robust following of over 200,000 on social media, he is a staunch advocate of maintaining a trading journal and is recognized for his straightforward approach to sharing his trading insights. He is also the author of the best-selling book on trading psychology, Trade Like a Monk . Harneet is a sought-after keynote speaker, having delivered impactful talks at prestigious institutions such as IIIT UNA and Masters Union. He is passionate about demystifying the complexities of trading and investment, consistently emphasizing the importance of a disciplined approach through his educational initiatives. His mission is to make the stock market accessible to all by illustrating that with the right tools and mindset, anyone can achieve significant success.",aboutUsSecondContent:"Sushen Sharma, a seasoned trader with a decade of experience and a skilled computer programmer  who is spicing up the often-overlooked aspect of stock trading: maintaining a trading journal. He created TradingJournal.ai, a state-of-the-art SAAS application designed to help retail traders organize and streamline their trading activities. Sushen understands the challenges traders often encounter and firmly believes that treating trading as a serious, structured business is key to success. This belief drove him to develop a tool that not only aids in risk management but also enables traders to learn from their own mistakes. With TradingJournal.ai, Sushen aims to transform retail traders into sharp, strategic market participants. By fostering a disciplined and systematic approach to trading, his combination of deep trading knowledge and programming skills is guiding traders to elevate their performance and achieve greater success in the stock market."};let i;const n=()=>(i||(i=JSON.parse(localStorage.getItem("metadata")||"{}")),i),r=()=>{var e;return(null===(e=n())||void 0===e?void 0:e.label)||[]},l=e=>(e=>{const t={},a=r();return e.forEach((e=>{let i=(0,o.yN)(a,e),n=i?1===i.values.length?i.values[0]:i.values:s[e];t[e]=n})),t})(e),d=e=>{const t=r(),a=(0,o.yN)(t,e);return a?1===a.values.length?a.values[0]:a.values:s[e]}}}]);
//# sourceMappingURL=945.b48dfe37.chunk.js.map