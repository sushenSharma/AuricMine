"use strict";(self.webpackChunkdatasheet=self.webpackChunkdatasheet||[]).push([[974],{4974:(t,i,e)=>{e.r(i),e.d(i,{default:()=>s});var a=e(5043),l=e(6058),o=(e(5351),e(579));const s=()=>{var t,i,e,s,r,d,n,c,h,u,p,m;const[x]=(0,a.useState)(1e5),[g,v]=(0,a.useState)(250),[j,w]=(0,a.useState)({withAlgo:[],withoutAlgo:[]}),[A,f]=(0,a.useState)({}),[C,N]=(0,a.useState)(!1),b=t=>{const i=t.length,e=t[t.length-1].updatedCapital;Math.max(...t.map((t=>t.updatedCapital))),Math.min(...t.map((t=>t.updatedCapital)));let a=0,l=t[0].updatedCapital;t.forEach((t=>{t.updatedCapital>l&&(l=t.updatedCapital);const i=(l-t.updatedCapital)/l*100;i>a&&(a=i)}));const o=t.map(((t,i,e)=>0===i?0:t.updatedCapital-e[i-1].updatedCapital)),s=o.reduce(((t,i)=>t+i),0)/o.length,r=o.reduce(((t,i)=>t+(i-s)**2),0)/(o.length-1),d=Math.sqrt(r),n=t.filter((t=>t.tradeOutcome>0)).length,c=t.filter((t=>t.tradeOutcome<0)).length,h=0===c?n:n/c,u=t.filter((t=>t.updatedCapital>=x)).length;return{finalCapital:e.toFixed(2),maxDrawdown:a.toFixed(2),volatility:d.toFixed(2),profitLossRatio:h.toFixed(2),positiveReturns:u,totalTrades:i}},P=t=>{let i=x,e=g,a=.02,l=0,o=0;return t.map(((t,s)=>{const r=((t,i,e)=>{if(t)return i*(e*(Math.random()>.5?1:1.5));return-i*e})(t.isProfit,i,a);if(t.isProfit){i+=.66*r,e+=.33*r,l+=1,o=0,a=Math.min(1.2*a,.2)}else{if(i+=r,i<0&&(i=0),e>0){const t=Math.min(-r,e);e-=t,i+=t}o+=1,l=0,a=Math.max(a/1.35,.02)}return{tradeNumber:s+1,tradeOutcome:r,updatedCapital:i,stopLossPercent:100*a}}))},L=t=>{let i=x;return t.map(((t,e)=>{const a=((t,i,e)=>t?1e4*Math.random():-i*e)(t.isProfit,i,.04);return i+=a,{tradeNumber:e+1,tradeOutcome:a,updatedCapital:i,stopLossPercent:4}}))},M={labels:j.withAlgo.map(((t,i)=>"Trade ".concat(i+1))),datasets:[{label:"With Algorithm - Capital",data:j.withAlgo.map((t=>t.updatedCapital)),borderColor:"green",fill:!1},{label:"With Algorithm - Stop Loss (%)",data:j.withAlgo.map((t=>t.stopLossPercent)),borderColor:"red",fill:!1}]},R={labels:j.withoutAlgo.map(((t,i)=>"Trade ".concat(i+1))),datasets:[{label:"Without Algorithm - Capital",data:j.withoutAlgo.map((t=>t.updatedCapital)),borderColor:"blue",fill:!1},{label:"Without Algorithm - Stop Loss (%)",data:j.withoutAlgo.map((t=>t.stopLossPercent)),borderColor:"orange",fill:!1}]};return(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("h1",{className:"title",children:"Trading Game: Algorithm vs No Algorithm"}),(0,o.jsx)("div",{className:"input-section",children:(0,o.jsxs)("div",{className:"button-container",children:[(0,o.jsx)("button",{className:"action-button",onClick:()=>{const t=(i=50,Array.from({length:i},(()=>({isProfit:Math.random()>=.5}))));var i;const e=L(t),a=P(t),l=b(e),o=b(a);w({withAlgo:a,withoutAlgo:e}),f({withoutAlgo:l,withAlgo:o})},children:"Compare Scenarios"}),(0,o.jsx)("button",{className:"toggle-button",onClick:()=>N(!C),children:C?"Hide Definitions":"Show Definitions"})]})}),C&&(0,o.jsxs)("div",{className:"side-panel",children:[(0,o.jsx)("h3",{children:"Metrics Definitions"}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Max Drawdown"}),": Largest drop in portfolio value from peak to trough."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Volatility"}),": Degree of fluctuation in portfolio value."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Profit/Loss Ratio"}),": Ratio of winning to losing trades."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Positive Returns"}),": Number of trades where capital exceeded seed capital."]})]})]}),j.withAlgo.length>0&&(0,o.jsxs)("div",{className:"chart-section",children:[(0,o.jsxs)("div",{className:"chart-card",children:[(0,o.jsx)("h2",{className:"chart-title",children:"With Algorithm"}),(0,o.jsx)(l.N1,{data:M})]}),(0,o.jsxs)("div",{className:"chart-card",children:[(0,o.jsx)("h2",{className:"chart-title",children:"Without Algorithm"}),(0,o.jsx)(l.N1,{data:R})]})]}),j.withAlgo.length>0&&(0,o.jsxs)("div",{className:"metrics-section",children:[(0,o.jsx)("h3",{className:"section-title",children:"Metrics Summary"}),(0,o.jsxs)("div",{className:"metrics-card",children:[(0,o.jsx)("h4",{className:"card-title",children:"With Algorithm"}),(0,o.jsxs)("p",{children:["Final Capital: ",null===(t=A.withAlgo)||void 0===t?void 0:t.finalCapital]}),(0,o.jsxs)("p",{children:["Max Drawdown: ",null===(i=A.withAlgo)||void 0===i?void 0:i.maxDrawdown,"%"]}),(0,o.jsxs)("p",{children:["Volatility: ",null===(e=A.withAlgo)||void 0===e?void 0:e.volatility]}),(0,o.jsxs)("p",{children:["Profit/Loss Ratio: ",null===(s=A.withAlgo)||void 0===s?void 0:s.profitLossRatio]}),(0,o.jsxs)("p",{children:["Positive Returns: ",null===(r=A.withAlgo)||void 0===r?void 0:r.positiveReturns," out of"," ",null===(d=A.withAlgo)||void 0===d?void 0:d.totalTrades," trades"]})]}),(0,o.jsxs)("div",{className:"metrics-card",children:[(0,o.jsx)("h4",{className:"card-title",children:"Without Algorithm"}),(0,o.jsxs)("p",{children:["Final Capital: ",null===(n=A.withoutAlgo)||void 0===n?void 0:n.finalCapital]}),(0,o.jsxs)("p",{children:["Max Drawdown: ",null===(c=A.withoutAlgo)||void 0===c?void 0:c.maxDrawdown,"%"]}),(0,o.jsxs)("p",{children:["Volatility: ",null===(h=A.withoutAlgo)||void 0===h?void 0:h.volatility]}),(0,o.jsxs)("p",{children:["Profit/Loss Ratio: ",null===(u=A.withoutAlgo)||void 0===u?void 0:u.profitLossRatio]}),(0,o.jsxs)("p",{children:["Positive Returns: ",null===(p=A.withoutAlgo)||void 0===p?void 0:p.positiveReturns," out of"," ",null===(m=A.withoutAlgo)||void 0===m?void 0:m.totalTrades," trades"]})]})]}),j.withAlgo.length>0&&(0,o.jsxs)("div",{className:"trade-details-section",children:[(0,o.jsx)("h3",{className:"section-title",children:"Detailed Trade Information"}),(0,o.jsxs)("div",{className:"trade-card",children:[(0,o.jsx)("h4",{className:"card-title",children:"With Algorithm:"}),j.withAlgo.map((t=>(0,o.jsxs)("p",{children:["Trade ",t.tradeNumber,": Outcome:"," ",t.tradeOutcome.toFixed(2),", Capital:"," ",t.updatedCapital.toFixed(2),", Stop-Loss Percent:"," ",t.stopLossPercent.toFixed(2),"%"]},t.tradeNumber)))]}),(0,o.jsxs)("div",{className:"trade-card",children:[(0,o.jsx)("h4",{className:"card-title",children:"Without Algorithm:"}),j.withoutAlgo.map((t=>(0,o.jsxs)("p",{children:["Trade ",t.tradeNumber,": Outcome:"," ",t.tradeOutcome.toFixed(2),", Capital:"," ",t.updatedCapital.toFixed(2),", Stop-Loss Percent:"," ",t.stopLossPercent.toFixed(2),"%"]},t.tradeNumber)))]})]})]})}}}]);
//# sourceMappingURL=974.c609fb83.chunk.js.map